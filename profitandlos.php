<!DOCTYPE html><html moznomarginboxes mozdisallowselectionprint><head><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" ><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Profit and Loss Statement - Rice growing - Manager</title><link rel="shortcut icon" href="/resources/favicon.ico"><link rel="apple-touch-icon" href="/resources/icon-iphone.png"><link rel="apple-touch-icon" sizes="72x72" href="/resources/icon-ipad.png"><link rel="apple-touch-icon" sizes="114x114" href="/resources/icon-iphone4.png"><link rel="stylesheet" type="text/css" href="resources/bootstrap/css/bootstrap.css?18.1.99.0" /><link rel="stylesheet" type="text/css" href="resources/theme.css?18.1.99.0" /><style>ul, ol { padding-left: 10px }.float-left { float: left !important; }.float-right { float: right !important; }.text-align-left { text-align: left !important; }.text-align-right { text-align: right !important; }div.content { background-color: #fff; padding: 30px; box-shadow: 0px 0px 5px #ccc; border: 1px solid #ccc; width: auto }a.file-close:hover { color: #999; }#sidenav div { padding: 0px; background-color: #fafafa; box-shadow: inset 1px 1px 0px #fff; }#sidenav img { opacity: 0.4; vertical-align: top; width: 16px; height: 16px }#sidenav .tab-active { background-color: #fff; border-right: none }#sidenav a.tab-link, #sidenav span.tab-link { line-height: 16px; display: block; position: relative; white-space: nowrap; padding: 12px; font-size: 11px; font-weight: bold }#sidenav table { border: 1px solid #ccc; border-top: none; font-family: 'Lucida Grande',Verdana,sans-serif; border-spacing: 0px; width: 100% }#sidenav .tab-active table { border-right: 1px solid #fff }#sidenav a:hover { text-decoration: none }#sidenav a:hover img { opacity: 0.6 }#sidenav .tab-active img { opacity: 0.6 }#sidenav span.count { background-color: #FFFFFF; border: 1px solid #CCCCCC; border-radius: 3px 3px 3px 3px; color: #666666; font-size: 10px; font-weight: bold; padding: 3px 6px; }#sidenav span.count-zero { border: 1px solid #EEEEEE; color: #DDDDDD }#sidenav span.tab-label { margin-left: 10px; }#sidenav a:hover span.tooltiptext { visibility: visible }.tooltiptext { visibility: hidden; background-color: #000; color: #fff; text-align: center; padding: 5px 10px; border-radius: 6px; position: absolute; z-index: 99999; top: 7px; left: 42px; }.tooltiptext::after { content: ' '; position: absolute; top: 50%; right: 100%; margin-top: -5px; border-width: 5px; border-style: solid; border-color: transparent black transparent transparent; }@media print { body { -webkit-print-color-adjust: exact !important; } }</style><link rel="stylesheet" type="text/css" href="resources/custom.css?18.1.99.0" /></head><body style="background: #eee url('resources/noise.png')"><noscript><div class="print-display-none" style="background-color: yellow; padding: 10px; text-align: center; font-weight: bold; border-bottom: 1px solid #ccc; font-size: 16px">Javascript Error</div></noscript><style>#navbar { z-index: 9; position: fixed; right: 0; left: 0; top: 0; margin: 0px; }#navbar { font-size: 12px; background-color: #FAFAFA; background-image: -moz-linear-gradient(top, #ffffff, #f2f2f2); background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#ffffff), to(#f2f2f2)); background-image: -webkit-linear-gradient(top, #ffffff, #f2f2f2); background-image: -o-linear-gradient(top, #ffffff, #f2f2f2); background-image: linear-gradient(to bottom, #ffffff, #f2f2f2); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#fff2f2f2', GradientType=0); *zoom: 1; background-repeat: repeat-x; border: 1px solid #D4D4D4; font-weight: bold; border-width: 0 0 1px 0; box-shadow: 0 1px 10px rgba(0, 0, 0, 0.1); -webkit-box-shadow: 0 1px 10px rgba(0, 0, 0, 0.1); -moz-box-shadow: 0 1px 10px rgba(0, 0, 0, 0.1); }#navbar table { width: 100%; border-collapse: collapse; }#navbar td { width: 1px; white-space: nowrap; }#navbar td.active { color: #555555; background-color: #e5e5e5; -webkit-box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.125); -moz-box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.125); box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.125); }#navbar a { color: #777777; display: block; padding: 15px }#navbar a:hover { color: #333; text-decoration: none }#navbar a img { margin-right: 6px; margin-top: -4px; opacity: 0.4;}#navbar a:hover img { opacity: 0.8 }</style><div id="navbar" class="print-display-none"><div style="padding-right: 15px"><table><tr><td><a href="javascript:window.history.back();"><img src="resources/webalys/_16px/triangle-big-3-01.png" style="margin-top: -2px" />Back</a></td><td class="active"><a href="businesses"><img src="resources/webalys/_16px/places-11.png" style="margin-top: -2px" />Businesses</a></td><td><a href="users"><img src="resources/webalys/_16px/users-23.png" style="margin-top: -2px" />Users</a></td><td><a href="preferences"><img src="resources/webalys/_16px/setting-2.png" style="margin-top: -2px" />Preferences</a></td><td><a href="support"><img src="resources/webalys/_16px/objects-5.png" style="margin-top: -2px" />Support</a></td><td style="width: auto"></td></tr></table></div></div><div class="print-reset" style="padding: 35px; padding-top: 85px"><table class="print-reset" style="width: 100%; border-collapse: separate"><tr><td class="print-reset" style="border: 1px solid #ccc; padding-left: 20px; padding-right: 20px; background-color: #f3f3f3; box-shadow: inset 1px 1px 0px #fff;" colspan="2"><div class="print-display-none" style="line-height: 54px"><table style="width: 100%"><tr><td style="vertical-align: middle; width: 1px; padding-right: 10px"><a href="businesses" class="text-decoration-none file-close" style="color: #ccc; font-size: 24px; display: block; font-weight: bold">&times;</a></td><td style="vertical-align: middle"><span style="text-shadow: 1px 1px 0 #FFFFFF; color: #555555; font-size: 18px; font-weight: bold">Rice growing</span><a href="business-name-form?Referrer=profit-and-loss-statement-form%3FReferrer%3D2a860690-607d-4410-82ba-dd474fd49f5b%26FileID%3Dee2f90a5-f5b8-475b-b584-375cae1e515a&FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a" style="font-size: 11px; margin-left: 10px; color: #999; text-shadow: 1px 1px 0px #fff">Rename</a></td><td style="width: 1px; white-space: nowrap"><a href="backup?FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a" class="btn btn-default btn-sm" style="font-weight: bold">Backup</a></td></tr></table></div></td></tr><tr><td class="print-reset" style="width: 1px; vertical-align: top; padding: 0; background-image: url('resources/graypixel.png'); background-repeat:repeat-y; background-position: right top"><div id="sidenav" class="print-display-none"><div><div><table><tr><td><a href="summary?FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a" class="tab-link"><img src="resources/webalys/_16px/business-76.png" /><span class="tab-label hide-on-collapse">Summary</span><span class="show-on-collapse hidden"><span class="tooltiptext">Summary</span></span></a></td></tr></table></div><div><table><tr><td><a href="journal-entries?FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a" class="tab-link"><img src="resources/webalys/_16px/design-6.png" /><span class="tab-label hide-on-collapse">Journal Entries</span><span class="show-on-collapse hidden"><span class="tooltiptext">Journal Entries</span></span></a></td><td class="count-column hide-on-collapse" style="text-align: right; padding-right: 10px; width: 1px"><span class="count">1</span></td></tr></table></div><div class="tab-active"><table><tr><td><a href="reports?FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a" class="tab-link"><img src="resources/webalys/_16px/text-9.png" /><span class="tab-label hide-on-collapse">Reports</span><span class="show-on-collapse hidden"><span class="tooltiptext">Reports</span></span></a></td></tr></table></div><div><table><tr><td><a href="settings?FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a" class="tab-link"><img src="resources/webalys/_16px/setting-8.png" /><span class="tab-label hide-on-collapse">Settings</span><span class="show-on-collapse hidden"><span class="tooltiptext">Settings</span></span></a></td></tr></table></div></div></div><script type="text/javascript">var compact = false;function toggleNav() {

compact = !compact;
document.cookie = 'compact='+compact.toString();

var elements = document.querySelectorAll('.hide-on-collapse');
for (var i = 0, len = elements.length; i < len; i++) {
    if (compact) elements[i].classList.add('hidden');
    else elements[i].classList.remove('hidden');
}

var elements = document.querySelectorAll('.show-on-collapse');
for (var i = 0, len = elements.length; i < len; i++) {
    if (!compact) elements[i].classList.add('hidden');
    else elements[i].classList.remove('hidden');
}

}</script><a href="javascript:toggleNav();" class="print-display-none" style="position: fixed; bottom: 1px; left: 1px; padding: 9px"><img src="resources/webalys/_16px/interface-32.png" style="opacity: 0.5" /></a><div style="height: 100px"><div class="hide-on-collapse" style="text-align: center; padding-top: 10px"><a href="tabs?Referrer=8ae8254f-b31e-4b2b-9cce-12cf81f3c522&Key=ac789d1f-034f-4964-a8b5-ebfffc3511f2&FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a" class="btn btn-link btn-xs" style="font-weight: bold; text-shadow: 1px 1px 0px #fff">Customize</a></div><div class="hide-on-collapse" style="text-align: center; padding-top: 10px"><img src="resources/arrow.png" class="print-display-none" /></div></div></td><td class="print-reset" style="vertical-align: top; background-color: #fff; border-bottom: 1px solid #ccc; border-right: 1px solid #ccc; padding: 30px"><script src="resources/jquery/jquery-1-8-2-min.js?v=18.1.99.0" type="text/javascript"></script><script src="resources/jquery/jquery-ui-1-9-2-custom-min.js?v=18.1.99.0" type="text/javascript"></script><script src="resources/knockoutjs/knockout.js?v=18.1.99.0" type="text/javascript"></script><script src="resources/knockoutjs/knockout-sortable.js?v=18.1.99.0" type="text/javascript"></script><script src="resources/knockoutjs/knockout-dictionary.js?v=18.1.99.0" type="text/javascript"></script><script src="resources/jquery/globalize.js?v=18.1.99.0" type="text/javascript"></script><script src="resources/bootstrap/js/bootstrap-min.js?v=18.1.99.0" type="text/javascript"></script><script src="resources/select2/select2.js?v=18.1.99.0" type="text/javascript"></script><script src="resources/datepicker/bootstrap-datepicker.js?v=18.1.99.0" type="text/javascript"></script><script src="resources/typeahead/typeahead-min.js?v=18.1.99.0" type="text/javascript"></script><script src="resources/autosize/jquery-autosize-min.js?v=18.1.99.0" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="resources/select2/select2.css?18.1.99.0" /><link rel="stylesheet" type="text/css" href="resources/typeahead/typeahead.css?18.1.99.0" /><link rel="stylesheet" type="text/css" href="resources/datepicker/bootstrap-datepicker3.css?18.1.99.0" /><script type="text/javascript">Globalize.addCultureInfo("default", { numberFormat: { pattern: [ "-n" ], decimals: "2", ",": ",", ".": ".", groupSizes: [3], "+": "+", "-": "-" } });Globalize.culture("default");</script><script type="text/javascript">$.fn.datepicker.dates['en'].daysMin = ["Su","Mo","Tu","We","Th","Fr","Sa"];$.fn.datepicker.dates['en'].months = ["January","February","March","April","May","June","July","August","September","October","November","December"];$.fn.datepicker.dates['en'].monthsShort = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];$.fn.datepicker.dates['en'].today = "Today";</script><script type="text/javascript">if (!Number.prototype.getDecimals) {
    Number.prototype.getDecimals = function() {
        var num = parseFloat(this.toFixed(10));
        var match = ('' + num).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
        if (!match)
            return 0;
        return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));
    }
}</script><script type="text/javascript">function ProfitAndLossStatementViewModel() { var self = this; self.AccountingBasis = ko.observable(); self.Description = ko.observable(); self.Footer = ko.observable(); self.Periods = ko.observableArray(); function PeriodViewModel() { var self = this; self.From = ko.observable(); self.To = ko.observable(); self.TrackingCode = ko.observable(); self.ColumnName = ko.observable(); } self.AddPeriods = function() { self.Periods.push(new PeriodViewModel()); }; self.Add5Periods = function() { for (var i = 0; i < 5; i++) self.Periods.push(new PeriodViewModel()); }; self.Add10Periods = function() { for (var i = 0; i < 10; i++) self.Periods.push(new PeriodViewModel()); }; self.Add20Periods = function() { for (var i = 0; i < 20; i++) self.Periods.push(new PeriodViewModel()); }; self.RemovePeriods = function(line) { self.Periods.remove(line); }; self.AccountCodes = ko.observable(); self.Title = ko.observable(); self.Rounding = ko.observable(); self.Obsolete_Type = ko.observable(); self.Obsolete_From = ko.observable(); self.Obsolete_To = ko.observable(); self.Obsolete_TrackingCode = ko.observable(); self.Key = ko.observable(); self.Timestamp = ko.observable(); }var viewModelInit = true;var viewModel = new ProfitAndLossStatementViewModel();viewModel.AccountingBasis("Accrual");viewModel.Description("");viewModel.Footer("");viewModel.AddPeriods();viewModel.Periods()[0].From("2018-03-15");viewModel.Periods()[0].To("2018-03-15");viewModel.Periods()[0].ColumnName("");viewModel.AccountCodes(false);viewModel.Title("");viewModel.Rounding("Off");viewModel.Obsolete_Type("SingleStep");viewModel.Obsolete_From("0001-01-01");viewModel.Key({ id: "00000000-0000-0000-0000-000000000000", text: "#####"});viewModel.Key({ id: "00000000-0000-0000-0000-000000000000", text: "#####"});viewModel.Timestamp("0");var viewModelInit = false;</script><div class="panel panel-default"><div class="panel-heading"><span class="header">Profit and Loss Statement</span></div><div class="panel-body" style="background-color: #f9f9f9; box-shadow: inset 0px 1px 0px #fff; padding: 30px"><div class="form-group"><label>Title</label><input type="text" class="form-control input-sm" style="width: 300px" placeholder="Profit and Loss Statement" data-bind="value: Title" /></div><div class="form-group"><label>Description</label><input type="text" class="form-control input-sm" style="width: 300px" placeholder="Optional" data-bind="value: Description" /></div><div class="form-group" style="margin-left: -20px"><table><thead><tr><th></th><th><label>Column name</label></th><th><label>From</label></th><th><label>To</label></th><th></th></tr></thead><tbody data-bind="sortable: { data: Periods, options: { handle: '.sortableHandle', cursor: 'move' } }"><tr><td class="sortableHandle" style="cursor: move"><img src="resources/webalys/_16px/interface-30.png" style="margin-right: 4px" data-bind="style: { opacity: ($root.Periods().length > 1) ? '0.25' : '0' }" /></td><td><input type="text" class="form-control input-sm" style="width: 200px" placeholder="Optional" data-bind="value: ColumnName" /></td><td><input type="text" class="form-control input-sm" style="width: 100px; margin-bottom: 0px; text-align: center" data-bind="datePicker: From" /></td><td><input type="text" class="form-control input-sm" style="width: 100px; margin-bottom: 0px; text-align: center" data-bind="datePicker: To" /></td><td style="vertical-align: top; padding-left: 5px; padding-top: 5px"><a href="#" class="close" style="font-size: 24px; float: none" data-bind="click: $root.RemovePeriods, visible: $root.Periods().length > 1">&times;</a></td></tr></tbody></table><button class="btn btn-default btn-sm" style="margin-top: 10px; margin-left: 20px" data-bind="click: AddPeriods">Add comparative column</button></div><div class="form-group"><label>Rounding</label><div class="controls"><select data-bind="value: Rounding, select2"><option value="Off">Off</option><option value="On">On</option></select></div></div><div class="form-group"><label>Footer</label><textarea class="form-control input-sm" style="width: 500px; height: 100px" data-bind="value: Footer" spellcheck="true"></textarea></div><div></div></div><div class="panel-footer" style="padding: 15px 30px"><img src="resources/ajax-loader.gif" id="ajaxIndicator" style="display: none; margin-right: 10px" /><div class="btn-group"><input type="button" id="btnCreate" class="btn btn-primary" style="font-weight: bold" value="Create" /><button class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button><ul class="dropdown-menu"><li><input type="button" id="btnCreateAndAddAnother" class="btn btn-link" value="Create & add another" /></li></ul></div></div></div><script type="text/javascript">ko.bindingProvider.instance.preprocessNode = function(node) {if ($(node).is('textarea') && $(node).hasClass('autosize')) {setTimeout(function() {$(node).autosize({ append: '\n', callback: function() { var clone = $(this).clone().css({ 'position': 'absolute', 'left': '-1000px' }).appendTo('body'); var height = clone.height(); clone.remove(); var tr = $(this).parent().parent(); tr.find('input[type=text].regular').css('height', (height+12)+'px'); tr.find('input[type=text].regular').css('padding-bottom', (height-12)+'px'); $.each(tr.find('input[type=text].regular'), function() { /* Riddiculous but fixes rendering bug on IE */ var value = $(this).val(); $(this).val(''); $(this).val(value); }); tr.attr('data-select2height', height+10); tr.find('.select2-choice').css('height', (height+12)+'px'); } });}, 0);}}
ko.bindingHandlers.select2data = {
    init: function(element, valueAccessor, allBindingsAccessor) {

        var select2options = {};
        if ($(element).is('select'))
        {
            select2options.width = $(element).attr('data-width');
            select2options.allowClear = ($(element).attr('data-placeholder'));
            select2options.formatNoMatches = function() { return "No matches found"; };
            if (select2options.allowClear) select2options.placeholder = $(element).attr('data-placeholder');
        }

        if ($(element).is('input') && $(element).attr('data-autocomplete'))
        {
            var select2options = {
                allowClear: true,
                placeholder: ' ',
                formatNoMatches: function() { return "No matches found"; },
                formatSearching: function() { return "Searching ..."; },
                ajax:
                {
                    url: $(element).attr('data-autocomplete'),
                    dataType: 'json',
                    width: 'copy',
                    data: function (term, page) { return { Term: term, Page: page, FilterBy: $(element).attr('data-autocomplete-filterby') } },
                    results: function(data, page) { return data; }
                }};
            select2options.width = $(element).attr('data-width');
        }
        $(element).select2(select2options);
        var tr = $(element).select2('container').closest('tr');
        if (tr.attr('data-select2height'))
        {
            $(element).select2('container').find('.select2-choice').height(tr.attr('data-select2height'));
        }

        ko.utils.registerEventHandler(element, 'change', function ()
        {
            var observable = valueAccessor();
            var data = $(element).select2('data');
            if (data != null)
            {
                data = jQuery.extend(true, {}, data);
                if ($(element).is('select'))
                {
                    data.TaxCode = $(element).find('option:selected').attr('data-TaxCode');
                    data.TaxCodeName = $(element).find('option:selected').attr('data-TaxCodeName');
                    data.Account = $(element).find('option:selected').attr('data-Account');
                    data.currency = $(element).find('option:selected').attr('data-currency');
                    data.type = $(element).find('option:selected').attr('data-type');
                }
                delete data.element;
                delete data.disabled;
                delete data.locked;
            }
            observable(data);
        });

        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
            $(element).select2('destroy');
        });
    },
    update: function(element, valueAccessor) {
        var data = ko.utils.unwrapObservable(valueAccessor());
        if ($(element).is('input'))
        {
            $(element).select2('data', data);
        }
        if ($(element).is('select'))
        {
            if (data == null) $(element).select2('val', '');
            else $(element).select2('val', data.id);
        }
    }
};
ko.bindingHandlers.select2text = {
    init: function(element, valueAccessor, allBindingsAccessor) {

        var select2options = {};
        select2options.width = $(element).attr('data-width');
        select2options.allowClear = ($(element).attr('data-placeholder'));
        select2options.formatNoMatches = function() { return "No matches found"; };
        if (select2options.allowClear) select2options.placeholder = $(element).attr('data-placeholder');

        if ($(element).attr('data-autocomplete'))
        {
            var select2options = {
                allowClear: true,
                placeholder: ' ',
                formatNoMatches: function() { return "No matches found"; },
                formatSearching: function() { return "Searching ..."; },
                ajax:
                {
                    url: $(element).attr('data-autocomplete'),
                    dataType: 'json',
                    width: 'copy',
                    data: function (term, page) { return { Term: term, Page: page, FilterBy: $(element).attr('data-autocomplete-filterby') } },
                    results: function(data, page) { return data; }
                }};
            select2options.width = $(element).attr('data-width');
        }
        $(element).select2(select2options);
        var tr = $(element).select2('container').closest('tr');
        if (tr.attr('data-select2height'))
        {
            $(element).select2('container').find('.select2-choice').height(tr.attr('data-select2height'));
        }

        ko.utils.registerEventHandler(element, 'change', function ()
        {
            var observable = valueAccessor();
            var data = $(element).select2('data');
            if (data != null)
            {
                observable(data.text);
            }
            else
            {
                observable(null);
            }
        });

        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
            $(element).select2('destroy');
        });
    },
    update: function(element, valueAccessor) {
        var data = ko.utils.unwrapObservable(valueAccessor());
        if (data == null) $(element).select2('data', null);
        else $(element).select2('data', { text: data });
    }
};
ko.bindingHandlers.select2 = {
    init: function(element, valueAccessor, allBindingsAccessor) {

        var select2options = {};
        if ($(element).is('select'))
        {
            select2options.dropdownAutoWidth = true;
            select2options.width = $(element).attr('data-width');
            select2options.allowClear = ($(element).attr('data-placeholder'));
            select2options.formatNoMatches = function() { return "No matches found"; };
            if (select2options.allowClear) select2options.placeholder = $(element).attr('data-placeholder');
        }

        $(element).select2(select2options);

        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
            $(element).select2('destroy');
        });
    },
};ko.bindingHandlers.autosize = {
                            update: function (element, valueAccessor) {
                                ko.utils.unwrapObservable(valueAccessor());
                                $(element).trigger('autosize.resize');
                            }
                        };
ko.bindingHandlers.fadeVisible = {
    init: function(element, valueAccessor) {
        var value = valueAccessor();
        $(element).toggle(ko.unwrap(value));
    },
    update: function(element, valueAccessor) {
        var value = valueAccessor();
        ko.unwrap(value) ? $(element).slideDown() : $(element).slideUp();
    }
};
ko.bindingHandlers.typeahead = {
    init: function(element, valueAccessor, allBindingsAccessor) {
        var value = valueAccessor();
        var allBindings = allBindingsAccessor();
        $(element).typeahead({
            remote: {
                url: ko.unwrap(value)+'&query=%QUERY'
            }
        });
        if (allBindings.value)
        {
            $(element).on('typeahead:selected', function (object, datum) {
                allBindings.value(datum.value);
            });
        }
    }
};// Prevent the backspace key from navigating back.
$(document).unbind('keydown').bind('keydown', function (event) {
    var doPrevent = false;
    if (event.keyCode === 8) {
        var d = event.srcElement || event.target;
        if ((d.tagName.toUpperCase() === 'INPUT' && 
             (
                 d.type.toUpperCase() === 'TEXT' ||
                 d.type.toUpperCase() === 'PASSWORD' || 
                 d.type.toUpperCase() === 'FILE' || 
                 d.type.toUpperCase() === 'EMAIL' || 
                 d.type.toUpperCase() === 'SEARCH' || 
                 d.type.toUpperCase() === 'DATE' )
             ) || 
             d.tagName.toUpperCase() === 'TEXTAREA') {
            doPrevent = d.readOnly || d.disabled;
        }
        else {
            doPrevent = true;
        }
    }

    if (doPrevent) {
        event.preventDefault();
    }
});
ko.bindingHandlers.datePicker = {
    init: function(element, valueAccessor, allBindingsAccessor) {
        var value = valueAccessor();
        $(element).datepicker({ todayBtn: 'linked', todayHighlight: true, keyboardNavigation: false, assumeNearbyYear: true, autoclose: true, format: 'mm/dd/yyyy' });
        var value2 = ko.utils.unwrapObservable(value);
        if (value2)
        {
            var parts = value2.split('-');
            var day = parseInt(parts[2]);
            var month = parseInt(parts[1])-1;
            var year = parseInt(parts[0]);
            $(element).datepicker('update', new Date(year, month, day));
        }
        $(element).datepicker().on('changeDate', function(e){
            var day = e.date.getDate();
            var month = e.date.getMonth()+1;
            var year = e.date.getFullYear();
            value(year+'-'+month+'-'+day);
        });
        $(element).datepicker().on('blur', function() { /* https://github.com/uxsolutions/bootstrap-datepicker/issues/2151 */
            var date = $(element).datepicker('getDate');
            var day = date.getDate();
            var month = date.getMonth()+1;
            var year = date.getFullYear();
            value(year+'-'+month+'-'+day);
        });
        $(element).datepicker().on('clearDate', function(e){
            value(null);
        });
    }
};</script><script type="text/javascript">
$(function(){

ko.applyBindings(viewModel);

$('.ajax-typeahead').on('typeahead:selected', function (object, datum) {
    console.log(datum.value);
});

$('.tt-query').css('background-color','#fff');
$('span[title]').tooltip();
$('textarea.autosize').trigger('autosize.resize');
$('#btnCreate').click(function() {
    $('#ajaxIndicator').show();
	$('#btnCreate').attr('disabled', 'disabled');
    $.ajax({
           type: 'POST',
           url: "profit-and-loss-statement-form?Referrer=2a860690-607d-4410-82ba-dd474fd49f5b&FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a",
           data: ko.toJSON(viewModel),
           contentType: 'application/json; charset=utf-8',
           success: function(data)
           {
               var referrer = "profit-and-loss-statement-list?FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a";
               if (false) referrer = referrer + '&Key='+data;
               $(location).attr('href',referrer);
           },
           error: function(XMLHttpRequest, textStatus, errorThrown)
           {
                $('#ajaxIndicator').hide();
                $('#btnCreate').removeAttr('disabled');
                alert(textStatus);
                alert(errorThrown);
                alert(XMLHttpRequest.responseText);
           }
         });
});

$('#btnCreateAndAddAnother').click(function() {
    $('#ajaxIndicator').show();
	$('#btnCreateAndAddAnother').attr('disabled', 'disabled');
    $.ajax({
           type: 'POST',
           url: "profit-and-loss-statement-form?Referrer=2a860690-607d-4410-82ba-dd474fd49f5b&FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a",
           data: ko.toJSON(viewModel),
           contentType: 'application/json; charset=utf-8',
           success: function(data)
           {
               $(location).attr('href', "profit-and-loss-statement-form?Referrer=2a860690-607d-4410-82ba-dd474fd49f5b&FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a");
           },
           error: function(XMLHttpRequest, textStatus, errorThrown)
           {
                $('#ajaxIndicator').hide();
                $('#btnCreateAndAddAnother').removeAttr('disabled');
                alert(XMLHttpRequest.responseText);
           }
         });
});

$('#btnUpdate').click(function() {
    $('#ajaxIndicator').show();
	$('#btnUpdate').attr('disabled', 'disabled');
    $.ajax({
           type: 'POST',
           url: "profit-and-loss-statement-form?Referrer=2a860690-607d-4410-82ba-dd474fd49f5b&FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a",
           data: ko.toJSON(viewModel),
           contentType: 'application/json; charset=utf-8',
           success: function(data)
           {
               $(location).attr('href',"profit-and-loss-statement-list?FileID=ee2f90a5-f5b8-475b-b584-375cae1e515a");
           },
           error: function(XMLHttpRequest, textStatus, errorThrown)
           {
                $('#ajaxIndicator').hide();
                $('#btnUpdate').removeAttr('disabled');
                alert(XMLHttpRequest.responseText);
           }
         });
});
});</script><script type="text/javascript">var help = false;function toggleHelp() {

help = !help;
document.cookie = 'help='+help.toString();

if (help)
{
    document.getElementById('help-btn').style.color = '#999';
    document.getElementById('btn-image-off').style.display = 'none';
    document.getElementById('btn-image-on').style.display = 'inline';
    document.getElementById('help-links').style.display = 'block';
    document.getElementById('help-placeholder').style.display = 'none';
}
else
{
    document.getElementById('help-btn').style.color = '#ccc';
    document.getElementById('btn-image-off').style.display = 'inline';
    document.getElementById('btn-image-on').style.display = 'none';
    document.getElementById('help-links').style.display = 'none';
    document.getElementById('help-placeholder').style.display = 'block';
}

}</script><a href="javascript:toggleNav();" class="print-display-none" style="position: fixed; bottom: 1px; left: 1px; padding: 9px"><img src="resources/webalys/_16px/interface-32.png" style="opacity: 0.5" /></a></td></tr></table><style>.input-group .select2-container .select2-choice { border-bottom-left-radius: 0; border-top-left-radius: 0 }.select2-container .select2-choice { height: 30px; line-height: 30px }.select2-container .select2-choice .select2-chosen { font-size: 12px; color: #555 }.select2-container .select2-choice.select2-default .select2-chosen { color: #ccc }.select2-container, .select2-drop { font-size: 12px; font-family: "Helvetica Neue",Helvetica,Arial,sans-serif; }.select2-container .select2-choice { background-image: none; box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset }.select2-container .select2-choice { border: 1px solid #ccc }.select2-container-active .select2-choice { border: 1px solid #5897FB }.select2-container .select2-choice .select2-arrow { background: none; border-left: none }table.input td input, table.input td select, table.input td .select2-container { margin-bottom: 0px }.alert { box-shadow: 1px 1px 0 #fff inset; }.panel-heading .label { box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.5) inset; }.panel-default { min-width: 0px; }.tt-suggestions { font-size: 12px; }</style></div></body></html>